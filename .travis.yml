language: java
jdk:
- oraclejdk8
cache:
  directories:
  - "$HOME/.m2"
install: true
before_script:
- gpg --import groupon-api.key
script:
- mvn clean install --settings settings.xml -P ci-strict -Dgpg.skip=true -U
- if [ \( -n "${TRAVIS_TAG}" \) -a "${TRAVIS_PULL_REQUEST}" = "false" ]; then mvn deploy --settings settings.xml -P ci-strict; fi;
env:
  global:
    secure: a9kvLS1NemagQ2eteBMRiz9ow3f6GBvKV9psbwPNXr/XBvsUmylOi0t/FJLFURDcW1cUic3Z+y7FSF2XVfycr1DG72FoSEN03EKZwM/5lUhR5TJEOdcOptHGAM80tpFC1i7cZhl48g4Aqce2e4P3CWGKfPko/DyvaExpDbveMDfzNzrg816hzqlIgKQr5vc7PsisN1pJwOsbv5UVUTwSiRFHONlYzaCQaA0QUC1SnOGUPpOrmAtlrUmPRALNncA0ay8ROR2UZaFe1+uKJgV0ihjXCG9sagsuSPEt3LRTemNOBNihuVJzzRFKp0tL2bwSftYS4/oCgokGB7QrgpwV4p5d6mqzZdR2EdrTmmt0sbXNMWKToLlCBuUNjimI25mhwbaxV8vJN1E3NKaa5b5Bqw9tgaCZ7Ezw3fuMXaeRELV2dtVNFTGWcbD35EH4xMnyyGDRnHv2RIvSmGlgtubiJxGqLB3Q8TWNSJsD15hg5Ngw0/zqfnnLu5m7n6yfFB8orfDkyAojV9sOI8Bviy+97iARVGJDmdvIey46PJZ3jfd0qFQuC2ag4sFiztXJYGhLuJJ5YEj+TXBBOBg2jSrQ4XLm9lXQ+TniyFZI+8Kl8rPqJ3FtFb4glpwT4zFvMYACWiXLJj++3nbEEE4b3uq6x4dJdIPokpApRWWgeqt+75k=
